<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deposit - My Bank</title>
    <style>
        /* General Styles */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

header {
    background-color: #0044cc;
    padding: 20px;
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header .logo h1 {
    margin: 0;
}

nav ul {
    list-style: none;
    margin: 0;
    padding: 0;
}

nav ul li {
    display: inline;
    margin: 0 10px;
}

nav ul li a {
    color: white;
    text-decoration: none;
    font-weight: bold;
}

.hero {
    background:url('./images/tree-money.gif');
    background-size: cover;
    padding: 250px;
    text-align: center;
}

.hero h2 {
    font-size: 2.5em;
}

.hero p {
    font-size: 1.2em;
}

.hero .btn {
    background-color: #0044cc;
    color: white;
    padding: 10px 20px;
    text-decoration: none;
    font-size: 1em;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

.hero .btn:hover {
    background-color: #0033aa;
}

.deposit-container {
          background: #ffffff;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          width: 100%;
          max-width: 400px;
          text-align: center;
          margin: 100px auto;
        }
    
        h1 {
          margin-bottom: 20px;
          font-size: 24px;
        }
    
        .current-balance {
          margin-bottom: 20px;
          font-size: 18px;
          font-weight: bold;
          color: #333;
        }
    
        form {
          display: flex;
          flex-direction: column;
        }
    
        label {
          margin-bottom: 5px;
          font-weight: bold;
          text-align: left;
        }
    
        input {
          margin-bottom: 15px;
          padding: 10px;
          border: 1px solid #ccc;
          border-radius: 5px;
        }
    
        #errorMessage {
          color: red;
          margin-top: 10px;
        }
    
        #successMessage {
          color: green;
          margin-top: 10px;
        }        

footer {
    background-color: #333;
    color: white;
    padding: 15px;
    text-align: center;
}
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <h1>My Bank</h1>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="Create.html">Registration</a></li>
                <li><a href="withdraw.html">Withdraw</a></li>
                <li><a href="deposit.html">Deposit</a></li>
            </ul>
        </nav>
    </header>

    <section class="deposit-container">
        <h2>Deposit Money</h2>
        <form id="deposit-form">
            <input type="number" id="deposit-amount" placeholder="Amount to Deposit" required>
            <input type="submit" value="Deposit">
        </form>
        <p>Your current balance: $<span id="balance">5000</span></p>
    </section>

    <footer>
        <p>&copy; 2024 My Bank. All rights reserved.</p>
    </footer>
<script>
            // Load current balance from localStorage
        let currentBalance = parseFloat(localStorage.getItem('currentBalance')) || 5000;
        const currentBalanceElement = document.getElementById("currentBalance");
        currentBalanceElement.textContent = currentBalance.toFixed(2);
    
        // Handle deposit form submission
        document.getElementById("depositForm").addEventListener("submit", function(event) {
          event.preventDefault();
    
          const accountNumber = document.getElementById("accountNumber").value.trim();
          const depositAmount = parseFloat(document.getElementById("depositAmount").value);
          const errorMessage = document.getElementById("errorMessage");
          const successMessage = document.getElementById("successMessage");
    
          // Clear previous messages
          errorMessage.textContent = "";
          successMessage.textContent = "";
    
          // Basic Validation
          if (accountNumber === "" || depositAmount <= 0) {
            errorMessage.textContent = "Please enter a valid account number and deposit amount!";
          } else {
            // Update the balance
            currentBalance += depositAmount;
            localStorage.setItem('currentBalance', currentBalance);
    
            // Save the transaction to localStorage
            const transactions = JSON.parse(localStorage.getItem('transactions')) || [];
            const transaction = {
              id: transactions.length + 1,
              type: 'Deposit',
              amount: depositAmount,
              balanceAfter: currentBalance,
              date: new Date().toLocaleString()
            };
            transactions.push(transaction);
            localStorage.setItem('transactions', JSON.stringify(transactions));
    
            // Update balance on page
            currentBalanceElement.textContent = `₹${currentBalance.toFixed(2)}`;
    
            // Success message
            successMessage.textContent = `Deposit of ₹${depositAmount.toFixed(2)} successful to account ${accountNumber}. Current balance: ₹${currentBalance.toFixed(2)}.`;
    
            // Reset the form
            document.getElementById("depositForm").reset();
          }
        });
</script>

</body>
</html>
